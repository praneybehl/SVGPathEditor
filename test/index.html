<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>SVG Path Editor Test</title>
    <script type="text/javascript" src="../lib/ynakajima.core.js"></script>
    <script type="text/javascript" src="../src/PathSeg.js"></script>
    <script type="text/javascript" src="../src/DraggableControlPoint.js"></script>
    <script type="text/javascript" src="../src/SVGPathEditor.js"></script>
    <script type="text/javascript">
    <!--
       var svgEdit;
       
       window.onload = function() {
             
            svgEdit = new ynakajima.svg.SVGPathEditor(document.getElementById("path2"), 
            	{
            		isAbs: true,
            		isFollowNode: true
            	}
            );
            console.log(svgEdit);
            //svgEdit.renderControlPoints();
            
            path2.addEventListener("click", function (e) {
            	
            	//svgEdit.editingRootLayer.style.display = "block";
            	svgEdit.renderControlPoints();
            	
            	
            }, false);
            
            document.getElementById("world").addEventListener("click", function (e) {
            	
            	if (e.target == e.currentTarget) {
	            	//svgEdit.editingRootLayer.style.display = "none";
	            	svgEdit.clearControlPoints();
    			}        	
            	
            }, false);
                
        };
    -->  
    </script>
</head>

<body>
        
    <div>
        <svg id="world" width="1000" height="1000" style="background-color: #ccc">
            
            <!-- <path id="path1" fill="none" stroke="#000" transform="translate(0,20) scale(.5)"
                d="
                m 520,20 l 10,30 h 100 v 50
                c 0,100 100,100 100,0
                s 100,0 100,100
                q 50,-200 100,-100
                t 60,0
                
                M 20,20 L 30,50 H 130 V 100
                C 130,200 230,200 230,100
                S 330,100 330,200
                Q 380,0 430,100
                T 490,100
                "      
            /> -->
			
	    <path id="path2" transform="translate(200, 150) scale(1)" xmlns="http://www.w3.org/2000/svg" fill="#fff" fill-opacity=".5" stroke="#000"
	
	d="M 273.4375,-107.34375 C 196.278,-108.10369 124.48645,-62.854772 80.086646,-1.7384862 57.001784,31.488175 43.223049,73.974344 51.563358,114.34546 60.723404,146.35804 85.154541,173.5629 85,208.25 c 1.79449,20.76435 17.28568,41.73025 39.76941,41.3009 41.57194,1.5 72.76568,-32.02789 95.59153,-62.89906 48.27264,-66.69645 79.01046,-149.679162 71.11171,-232.77842 1.37208,-14.073132 -14.61983,-36.589538 -9.75882,-43.164451 47.46289,-0.162313 88.33864,33.337957 108.69961,74.417976 23.90322,46.794073 29.82562,101.940618 21.25823,153.419945 -9.72371,55.40995 -52.92063,98.97583 -103.17954,120.85155 -26.98244,12.60919 -55.868,20.48732 -84.86713,26.82812 -4.1756,16.56925 27.46574,2.40585 37.29783,4.13184 60.06477,-8.76557 123.70953,-22.64585 170.51322,-63.90626 39.76102,-35.38245 49.60373,-91.98393 44.44578,-142.709933 -3.63862,-58.006308 -30.07328,-115.790144 -77.8168,-150.432141 -35.34651,-27.469003 -80.0915,-41.006646 -124.62753,-40.653816 z m -4.5,17.5 c 9.88009,50.718176 -9.08966,101.320297 -28.41932,147.454488 -20.58433,44.267832 -42.04874,90.837482 -80.06994,122.990802 -15.22784,12.81465 -43.44016,23.38488 -56.76428,2.33949 C 83.358484,155.45413 78.438159,119.3557 86.723257,86.588985 99.208695,33.591274 130.30686,-14.888632 171.80449,-49.94578 c 27.50166,-22.593807 61.68947,-36.632684 97.13301,-39.89797 z"
	
	_d="m 364.4375,158.625 -62.125,62.34375 85.40625,-0.125 c -0.0421,52.22117 -42.39986,94.52518 -94.625,94.5 -31.28368,-0.0151 -59.01373,-15.21539 -76.21875,-38.625 l -2.86332,-3.56911 -57.23043,55.00661 c 31.77103,40.28089 80.99956,66.16084 136.28125,66.1875 95.86084,0.0462 173.61002,-77.63916 173.65625,-173.5 2e-5,-0.0416 10e-6,-0.0834 0,-0.125 l 70.53125,-0.125 -108.28125,-107.90625 -8.5631,-7.6483 z "
		__d="M548.319,235.951c-4.783-16.372-11.271-39.723-9.222-52.145c2.048-12.421,5.889-127.395-102.353-104.698   c0,0-25.188,11.477-49.248,10.676c-0.156-1.472-0.464-2.909-0.9-4.307c3.33-4.636,6.196-16.929,1.325-19.281   c-4.722-2.28-10.471,2.699-12.614,4.818c-6.141-4.152-14.11-6.662-22.823-6.662c-7.234,0-14.071,1.372-19.659,4.273   c-3.687-3.229-12.144-9.288-17.626-2.627c-2.857,3.472,3.324,18.231,4.292,20.482c-0.572,3.154-0.675,6.661-0.205,10.556   c0,0-2.145,16.141,16.242,31.87c0,0,1.964,0.165,2.246,6.249c0.17,3.664,0.563,25.794,10.829,47.071   c11.236,23.29,11.645,48.417,10.215,48.621c-1.431,0.205-17.773,4.291-14.914,14.096c2.86,9.807,37.793,13.892,41.879-1.226   c4.083-15.108-4.363-54.595-4.373-54.643c0.021-0.162,0.042-0.323,0.063-0.486c0,0,4.527,8.513,17.339,22.355   c12.811,13.838,8.344,29.518,8.344,29.518s-16.973,3.81-16.044,11.441c0.928,7.635,30.532,14.814,41.482-7.065   c10.95-21.88-11.026-63.673-11.026-63.673s10.653,1.54,23.211,0.094c0,0,5.737,10.469,9.279,18.735   c3.361,7.839,8.841,29.12,4.58,30.973c-7.061,3.076-26.682,8.262-24.988,20.435c1.29,9.266,34.354,6.523,46.767,2.64   c12.415-3.88,1.588-34.903,6.45-51.182c4.86-16.278,10.576-11.381,10.576-11.381s8.355,15.979,16.786,27.337   c8.433,11.355,2.327,13.175-0.961,14.267c-3.291,1.09-21.513,7.109-16.723,17.307C498.777,255.144,552.876,251.546,548.319,235.951   z"
		_d="M 390.62600,212.87900 L 390.62600,232.62310 L 404.58930,218.65980 C 404.58930,216.19242 405.53093,213.72001 407.41420,211.83675 C 411.18576,208.06519 417.29882,208.06519 421.06530,211.83675 C 424.83686,215.60328 424.83686,221.71633 421.06530,225.48785 C 419.18204,227.37111 416.70962,228.31275 414.24225,228.31275 L 400.27895,242.27605 L 420.02305,242.27605 C 421.77036,240.52874 424.18234,239.44612 426.85114,239.44612 C 432.17866,239.44612 436.49909,243.77158 436.49909,249.09910 C 436.49909,254.42662 432.17866,258.75208 426.85114,258.75208 C 424.18234,258.75208 421.77036,257.66946 420.02305,255.92215 L 400.27895,255.92215 L 414.24225,269.88545 C 416.70963,269.88545 419.18204,270.82708 421.06530,272.71035 C 424.83686,276.48191 424.83686,282.59497 421.06530,286.36145 C 417.29877,290.13301 411.18572,290.13301 407.41420,286.36145 C 405.53094,284.47819 404.58930,282.00577 404.58930,279.53840 L 390.62600,265.57510 L 390.62600,285.31920 C 392.37331,287.06651 393.45593,289.47849 393.45593,292.14729 C 393.45593,297.47481 389.13047,301.79524 383.80295,301.79524 C 378.47543,301.79524 374.14997,297.47481 374.14997,292.14729 C 374.14997,289.47849 375.23259,287.06651 376.97990,285.31920 L 376.97990,265.57510 L 363.01660,279.53840 C 363.01660,282.00578 362.07497,284.47819 360.19170,286.36145 C 356.42014,290.13301 350.30708,290.13301 346.54060,286.36145 C 342.76904,282.59492 342.76904,276.48187 346.54060,272.71035 C 348.42386,270.82709 350.89628,269.88545 353.36365,269.88545 L 367.32695,255.92215 L 347.58285,255.92215 C 345.83554,257.66946 343.42356,258.75208 340.75476,258.75208 C 335.42724,258.75208 331.10681,254.42662 331.10681,249.09910 C 331.10681,243.77158 335.42724,239.44612 340.75476,239.44612 C 343.42356,239.44612 345.83554,240.52874 347.58285,242.27605 L 367.32695,242.27605 L 353.36365,228.31275 C 350.89627,228.31275 348.42386,227.37112 346.54060,225.48785 C 342.76904,221.71629 342.76904,215.60323 346.54060,211.83675 C 350.30713,208.06519 356.42018,208.06519 360.19170,211.83675 C 362.07496,213.72001 363.01660,216.19243 363.01660,218.65980 L 376.97990,232.62310 L 376.97990,212.87900 C 375.23259,211.13169 374.14997,208.71971 374.14997,206.05091 C 374.14997,200.72339 378.47543,196.40296 383.80295,196.40296 C 389.13047,196.40296 393.45593,200.72339 393.45593,206.05091 C 393.45593,208.71971 392.37331,211.13169 390.62600,212.87900 z "
	    />            
        
        </svg>
        
    </div>
    
</body>
</html>
